# WARNING: if you already have a .githooks/pre-commit, this will back it up once.
test -f .githooks/pre-commit && cp -p .githooks/pre-commit .githooks/pre-commit.BAK.$(date +%s)

cat > .githooks/pre-commit <<'SH'
#!/bin/sh
# Delegate to pre-commit without touching .git/hooks (core.hooksPath is set)
if command -v pre-commit >/dev/null 2>&1; then
  exec pre-commit run --hook-stage pre-commit
fi
echo "pre-commit not installed; skipping."
exit 0
SH
chmod +x .githooks/pre-commit
